{"version":3,"sources":["reportWebVitals.js","utils/http/index.js","utils/api/index.js","views/Add/Add.jsx","views/RightClick/RightClick.jsx","views/App/App.jsx","routes/index.jsx","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","$axios","axios","create","baseURL","interceptors","request","use","config","headers","api","App","get_list","get","delete","id","save","name","value","url","data","method","change","Add","num","document","getElementById","arr","split","i","j","length","alert","parseInt","r","status","props","update","this","show","className","htmlFor","placeholder","type","onClick","add","e","Component","RightClick","state","menu","oncontextmenu","documentElement","body","scrollTop","scrollLeft","x","clientX","y","clientY","style","left","top","display","addEventListener","setState","list","sum","cid","_this","res","getSum","err","listItem","map","a","forEach","isDelete","console","log","changeInfo","border","colSpan","Routes","path","exact","component","to","ReactDOM","render","StrictMode"],"mappings":"mOAYeA,G,MAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,Q,qGCJRQ,E,OAASC,EAAMC,OAAO,CACxBC,QAAQ,0BAGZH,EAAOI,aAAaC,QAAQC,KAAI,SAAAC,GAE5B,OADAA,EAAOC,QAAQ,gBAAkB,kCAC1BD,KAGIP,QCqBAS,EA/BH,CACRC,IAAM,CACFC,SADE,WAEE,OAAOX,EAAOY,IAAI,SAEtBC,OAJE,SAIKC,GACH,OAAOd,EAAOa,OAAO,QAAQC,IAEjCC,KAPE,SAOGC,EAAMC,GACP,OAAOjB,EAAO,CACVkB,IAAI,OACJC,KAAK,CACDH,OACAC,SAEJG,OAAO,UAGfC,OAjBE,SAiBKP,EAAGE,EAAKC,GACX,OAAOjB,EAAO,CACVkB,IAAI,QAAD,OAASJ,GACZM,OAAO,OACPD,KAAK,CACDH,OACAC,c,eCnBCK,E,yJASjB,WAKI,IALE,IAAD,OACKC,EAAMC,SAASC,eAAe,SACtBT,EAASQ,SAASC,eAAe,QAAvCR,MACFA,EAAUM,EAAVN,MACFS,EAAMT,EAAMU,MAAM,IACdC,EAAE,EAAGC,EAAIH,EAAII,OAAQF,EAAEC,EAAGD,IAC9B,GAAIF,EAAIE,GAAG,KAAMF,EAAIE,GAAG,IAGpB,OAFAG,MAAM,8FACNR,EAAIN,MAAQ,IAIpBA,EAAQe,SAASf,GAEjBR,EAAIC,IAAIK,KAAKC,EAAKC,GAAOvB,MAAK,SAAAuC,GAEV,MAAZA,EAAEC,SACFH,MAAM,4BACN,EAAKI,MAAMC,SACX,EAAKD,MAAMd,e,oBAMvB,WAAS,IAAD,OACJ,OACKgB,KAAKF,MAAMG,KAGZ,sBAAKC,UAAU,MAAf,UACI,sBAAKA,UAAU,MAAf,UACI,uBAAOC,QAAQ,OAAf,gCAAiC,uBAAO1B,GAAG,OAAO2B,YAAY,qDAC9D,uBACA,uBAAOD,QAAQ,QAAf,gCAAkC,uBAAO1B,GAAG,QAAQ2B,YAAY,iEAAeC,KAAK,cAExF,sBAAKH,UAAU,MAAf,UACI,wBAAQI,QAAS,WAAK,EAAKC,OAA3B,sCADJ,OAGI,wBAAQD,QAAW,SAAAE,GAAC,OAAE,EAAKV,MAAMd,UAAjC,4CAXN,S,GArCmByB,aC2DlBC,E,4MA1DXC,MAAQ,CACJV,MAAM,G,uDAKV,WAYI,IAAMW,EAAOzB,SAASC,eAAe,QAGrCD,SAAS0B,cAAgB,SAASL,GAE9B,MAAoCrB,SAAS2B,iBAAmB3B,SAAS4B,KAAjEC,EAAR,EAAQA,UAAYC,EAApB,EAAoBA,WACJC,EAAmBV,EAA7BW,QAAuBC,EAAMZ,EAAfa,QAKpB,OAHAT,EAAKU,MAAMC,KAAX,UAAsBN,EAAaC,EAAnC,MACAN,EAAKU,MAAME,IAAX,UAAqBR,EAAYI,EAAjC,MACAR,EAAKU,MAAMG,QAAU,SACd,GAIXtC,SAASuC,iBAAiB,SAAQ,WAC9Bd,EAAKU,MAAMG,QAAU,UAIzBtC,SAASuC,iBAAiB,WAAW,SAAAlB,GACjCI,EAAKU,MAAMG,QAAU,Y,oBAO7B,WAAS,IAAD,OACJ,OACI,sBAAKhD,GAAG,MAAR,UACI,oBAAIA,GAAG,OAAP,SACI,oBAAIyB,UAAU,WAAWI,QAAU,kBAAM,EAAKqB,SAAS,CAAC1B,MAAK,KAA7D,4BAEJ,cAAC,EAAD,CAAKA,KAAMD,KAAKW,MAAMV,KAAMjB,OAAU,SAAAwB,GAAI,EAAKmB,SAAS,CAAC1B,MAAK,KAAUF,OAAQC,KAAKF,MAAMC,gB,GArDlFU,aC+JVpC,E,4MAhKbsC,MAAQ,CACNiB,KAAM,GACNC,IAAK,EACLC,IAAK,EACL7B,MAAM,G,EAgBR3B,SAAW,WACT,IAAMyD,EAAK,eACX3D,EAAIC,IAAIC,WAAWjB,MACjB,SAAC2E,GACC,IAAQnC,EAAiBmC,EAAjBnC,OAAQf,EAASkD,EAATlD,KACD,MAAXe,GAEFkC,EAAMJ,SACJ,CACEC,KAAM9C,IAER,WACEiD,EAAME,eAMd,SAACC,GACCxC,MAAM,4C,EAgDZyC,SAAW,kBACT,EAAKxB,MAAMiB,KAAKQ,KAAI,SAAC5B,GAEnB,OACE,+BACE,6BAAKA,EAAE/B,KACP,6BAAK+B,EAAE7B,OACP,6BAAK6B,EAAE5B,QACP,+BACE,wBAAQsB,UAAU,SAASI,QAAS,kBAAM,EAAK9B,OAAOgC,EAAE/B,KAAxD,0BAGA,wBACEyB,UAAU,SACVI,QAAS,WACP,EAAKtB,OAAOwB,EAAE/B,KAHlB,+BARK+B,EAAE7B,KAAO6B,EAAE/B,Q,uDArF1B,WACEuB,KAAK1B,a,2DAEP,4BAAA+D,EAAA,6DACMR,EAAM,EACV7B,KAAKW,MAAMiB,KAAKU,SAAQ,SAAC9B,GAClBA,EAAE+B,WACLV,GAAOrB,EAAE5B,UAJf,SAOQoB,KAAK2B,SAAS,CAClBE,IAAKA,IART,gD,0EAkCA,SAAOpD,GAAK,IAAD,OACTL,EAAIC,IAAIG,OAAOC,GAAIpB,MACjB,SAACuC,GACkB,MAAbA,EAAEC,SACJH,MAAM,4BACN,EAAKpB,eAGT,SAACkC,GACCgC,QAAQC,IAAI,2BAAQjC,Q,oBAK1B,SAAO/B,GAELuB,KAAK2B,SAAS,CACZG,IAAKrD,EACLwB,MAAK,M,wBAGT,WAKE,IALW,IAAD,OACJf,EAAMC,SAASC,eAAe,UACtBT,EAASQ,SAASC,eAAe,WAAvCR,MACFA,EAAUM,EAAVN,MACFS,EAAMT,EAAMU,MAAM,IACdC,EAAE,EAAGC,EAAIH,EAAII,OAAQF,EAAEC,EAAGD,IAC9B,GAAIF,EAAIE,GAAG,KAAMF,EAAIE,GAAG,IAGpB,OAFAG,MAAM,8FACNR,EAAIN,MAAQ,IAIpBA,EAAQe,SAASf,GAEjBR,EAAIC,IAAIW,OAAOgB,KAAKW,MAAMmB,IAAInD,EAAKC,GAAOvB,MAAK,SAAAuC,GAE3B,MAAZA,EAAEC,SACFH,MAAM,4BACN,EAAKiC,SAAS,CAAC1B,MAAK,IAAO,kBAAI,EAAK3B,oB,oBA8B9C,WAAU,IAAD,OACP,OACE,sBAAK4B,UAAU,OAAf,UACE,kFACA,uBACCF,KAAKW,MAAMV,KACV,sBAAKC,UAAU,SAAf,UACE,8EAAcF,KAAKW,MAAMmB,OACzB,mGACA,sBAAKrD,GAAG,QAAR,UACE,uBAAOA,GAAG,UAAU2B,YAAY,+CADlC,OAGE,uBAAO3B,GAAG,SAAS2B,YAAY,8DAGjC,uBACA,sBAAK3B,GAAG,MAAR,UACE,wBAAQ6B,QAAS,WAAK,EAAKoC,cAA3B,sCADF,SACiE,wBAAQpC,QAAS,WAAK,EAAKqB,SAAS,CAAE1B,MAAK,KAA3C,4CAGjE,KAEJ,wBAAOxB,GAAG,QAAQkE,OAAO,IAAzB,UACE,gCACE,+BACE,oCACA,8CACA,8CACA,mDAGJ,gCAAQ3C,KAAKmC,aACb,gCACE,6BACE,qBAAIS,QAAQ,IAAZ,2CAAsB5C,KAAKW,MAAMkB,IAAjC,mBAIN,cAAC,EAAD,CACE9B,OAAQ,WACN,EAAKzB,qB,GAzJCmC,aCsBHoC,MAdf,WACE,OACE,cAAC,IAAD,UACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAW3E,IAEjC,cAAC,IAAD,CAAU4E,GAAG,YCdrBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFjE,SAASC,eAAe,SAQ1BlC,M","file":"static/js/main.22f1f4e9.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import axios from 'axios';\r\n\r\n\r\nconst $axios = axios.create({\r\n    baseURL:'http://127.0.0.1:8080'\r\n})\r\n\r\n$axios.interceptors.request.use(config=>{\r\n    config.headers['Content-Type'] = 'application/json; charset=utf-8'\r\n    return config\r\n})\r\n\r\nexport default $axios","import $axios from '../http/';\r\n\r\nconst api = {\r\n    App : {\r\n        get_list(){\r\n            return $axios.get('/App')\r\n        },\r\n        delete(id){\r\n            return $axios.delete('/App/'+id)\r\n        },\r\n        save(name, value){\r\n            return $axios({\r\n                url:'/App',\r\n                data:{\r\n                    name,\r\n                    value\r\n                },\r\n                method:'POST'\r\n            })\r\n        },\r\n        change(id,name,value){\r\n            return $axios({\r\n                url:`/App/${id}`,\r\n                method:'POST',\r\n                data:{\r\n                    name,\r\n                    value\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport default api","import {\r\n    Component\r\n} from 'react';\r\nimport api from '../../utils/api/index'\r\nimport propTypes from 'prop-types';\r\nimport './Add.css';\r\n\r\nexport default class Add extends Component{\r\n    static propTypes = {\r\n        // 更改是否展示添加面板\r\n        show: propTypes.bool.isRequired,\r\n        change: propTypes.func.isRequired,\r\n\r\n        // 回调函数，更新列表\r\n        update : propTypes.func.isRequired\r\n    }\r\n    add(){\r\n        const num = document.getElementById('value')\r\n        const { value:name } = document.getElementById('name')\r\n        let { value } = num\r\n        let arr = value.split('')\r\n        for(let i=0, j = arr.length; i<j; i++){\r\n            if( arr[i]<'0'|| arr[i]>'9'){\r\n                alert('输入的价值格式错误,请重新输入')\r\n                num.value = ''\r\n                return\r\n            }\r\n        }\r\n        value = parseInt(value)\r\n        // console.log(name,value)\r\n        api.App.save(name,value).then(r=>{\r\n            // console.log(\"添加结果\",r)\r\n            if( r.status ===200 ){\r\n                alert('添加成功')\r\n                this.props.update()\r\n                this.props.change()\r\n                \r\n            }\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            !this.props.show\r\n            ? null\r\n            :\r\n            <div className=\"add\">\r\n                <div className=\"val\">\r\n                    <label htmlFor='name'>名称：</label><input id='name' placeholder='请输入财物的名字' />\r\n                    <br />\r\n                    <label htmlFor='value'>价值：</label><input id='value' placeholder='请输入财物的价值(整数)' type='number' />\r\n                </div>\r\n                <div className=\"btn\">\r\n                    <button onClick={()=>{this.add()}}>确认添加</button>\r\n                     &nbsp;\r\n                    <button onClick = {e=>this.props.change()} >取消添加</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n};","import {\r\n    Component\r\n} from 'react';\r\nimport './RightClick.css';\r\nimport Add from '../Add/Add';\r\nimport propTypes from 'prop-types';\r\n\r\nclass RightClick extends Component{\r\n    state = {\r\n        show: false\r\n    }\r\n    static propTypes = {\r\n        update : propTypes.func.isRequired \r\n      }\r\n    componentDidMount(){\r\n        /**\r\n         * 自定义菜单要被展示的时候，走如下流程\r\n         * 1. 获取菜单menu\r\n         * 2. 获取窗口的下拉条跟左拉条\r\n         * 3. 获取鼠标右键的位置 \r\n         * 4. 判断是否在可见区域\r\n         * 5. 展示自定义菜单\r\n         * 6. 阻止默认菜单展示\r\n         * 7. 事件处理完毕，菜单消失\r\n         * \r\n         */\r\n        const menu = document.getElementById('menu')\r\n        \r\n        // 鼠标被右击\r\n        document.oncontextmenu = function(e){\r\n            //当有下拉条的时候必须加上当前屏幕不可视范围的left,和top值\r\n            const { scrollTop , scrollLeft }  = document.documentElement || document.body  \r\n            let { clientX : x , clientY :y } = e \r\n            \r\n            menu.style.left = `${ scrollLeft + x }px`\r\n            menu.style.top = `${ scrollTop + y }px`\r\n            menu.style.display = 'block'\r\n            return false\r\n        }\r\n\r\n        // 右键按钮被左击则消失\r\n        document.addEventListener('click',()=>{\r\n            menu.style.display = 'none'\r\n        })\r\n\r\n        // 按下键盘，菜单消失\r\n        document.addEventListener('keydown', e=>{\r\n            menu.style.display = 'none'\r\n        })\r\n        \r\n        \r\n    }\r\n    \r\n\r\n    render(){\r\n        return(\r\n            <div id='box' >\r\n                <ul id='menu'>\r\n                    <li className='menuItem' onClick={ () => this.setState({show:true}) }>添加</li>\r\n                </ul>\r\n                <Add show={this.state.show} change = {e=>{this.setState({show:false})}} update={this.props.update}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default RightClick","import \"./App.css\";\nimport { Component } from \"react\";\nimport RightClick from \"../RightClick/RightClick\";\nimport api from \"../../utils/api\";\n\nclass App extends Component {\n  state = {\n    list: [],\n    sum: 0,\n    cid: 0,\n    show: false,\n  };\n  componentDidMount() {\n    this.get_list();\n  }\n  async getSum() {\n    let sum = 0;\n    this.state.list.forEach((e) => {\n      if (!e.isDelete) {\n        sum += e.value;\n      }\n    });\n    await this.setState({\n      sum: sum,\n    });\n  }\n  get_list = () => {\n    const _this = this;\n    api.App.get_list().then(\n      (res) => {\n        const { status, data } = res;\n        if (status === 200) {\n          // console.log(\"列表更新\", data);\n          _this.setState(\n            {\n              list: data,\n            },\n            () => {\n              _this.getSum();\n            }\n          );\n          // console.log(\"更新后\", this.state.list);\n        }\n      },\n      (err) => {\n        alert(\"获取列表失败\");\n      }\n    );\n  };\n  delete(id) {\n    api.App.delete(id).then(\n      (r) => {\n        if (r.status === 200) {\n          alert(\"删除成功\");\n          this.get_list();\n        }\n      },\n      (e) => {\n        console.log(\"删除失败\", e);\n      }\n    );\n  }\n\n  change(id) {\n    // console.log(\"修改id=\", id);\n    this.setState({ \n      cid: id ,\n      show:true\n    });\n  }\n  changeInfo(){\n    const num = document.getElementById('newVal')\n    const { value:name } = document.getElementById('newName')\n    let { value } = num\n    let arr = value.split('')\n    for(let i=0, j = arr.length; i<j; i++){\n        if( arr[i]<'0'|| arr[i]>'9'){\n            alert('输入的价值格式错误,请重新输入')\n            num.value = ''\n            return\n        }\n    }\n    value = parseInt(value)\n    // console.log(name,value)\n    api.App.change(this.state.cid,name,value).then(r=>{\n        // console.log(\"修改结果\",r)\n        if( r.status ===200 ){\n            alert('修改成功')\n            this.setState({show:false},()=>this.get_list())\n        }\n    })\n  }\n\n  listItem = () =>\n    this.state.list.map((e) => {\n      // console.log(\"渲染\", e);\n      return (\n        <tr key={e.name + e.id}>\n          <td>{e.id}</td>\n          <td>{e.name}</td>\n          <td>{e.value}</td>\n          <td>\n            <button className=\"action\" onClick={() => this.delete(e.id)}>\n              删除\n            </button>\n            <button\n              className=\"action\"\n              onClick={() => {\n                this.change(e.id);\n              }}\n            >\n              修改\n            </button>\n          </td>\n        </tr>\n      );\n    });\n\n  render() {\n    return (\n      <div className=\"main\">\n        <h1>云驭财务最小系统</h1>\n        <hr />\n        {this.state.show ? (\n          <div className=\"change\">\n            <p>要修改的财物的id={this.state.cid}</p>\n            <p>不输入则不修改哦！！！</p>\n            <div id=\"input\">\n              <input id=\"newName\" placeholder=\"请输入新的名字\" />\n              &nbsp;\n              <input id=\"newVal\" placeholder=\"请输入新的财物价值\" />\n            </div>\n\n            <br />\n            <div id=\"btn\">\n              <button onClick={()=>{this.changeInfo()}}>确认修改</button> &nbsp; <button onClick={()=>{this.setState({ show:false })} } >取消修改</button>\n            </div>\n          </div>\n        ) : null}\n\n        <table id=\"table\" border=\"1\">\n          <thead>\n            <tr>\n              <th>id</th>\n              <th>名称</th>\n              <th>价值</th>\n              <th>操作</th>\n            </tr>\n          </thead>\n          <tbody>{this.listItem()}</tbody>\n          <tfoot>\n            <tr>\n              <td colSpan=\"4\">价值总和￥{this.state.sum}元</td>\n            </tr>\n          </tfoot>\n        </table>\n        <RightClick\n          update={() => {\n            this.get_list();\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import {  \r\n    Route, \r\n    Switch, \r\n    Redirect \r\n} from 'react-router';\r\n\r\nimport { \r\n    HashRouter \r\n} from 'react-router-dom';\r\n\r\nimport App from '../views/App/App'\r\n\r\n\r\nfunction Routes() {\r\n  return ( \r\n    <HashRouter >\r\n    <Switch>\r\n        <Route path='/' exact component={App} />\r\n        {/* <Route path='/RightClick' exact component={RightClick}/> */}\r\n        <Redirect to='/' />\r\n    </Switch>\r\n     \r\n    </HashRouter>\r\n    \r\n  );\r\n}\r\n\r\nexport default Routes;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport  Routes  from './routes/index'\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}