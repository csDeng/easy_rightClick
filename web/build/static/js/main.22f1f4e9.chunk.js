(this.webpackJsonptencent=this.webpackJsonptencent||[]).push([[0],{38:function(t,e,n){},40:function(t,e,n){},41:function(t,e,n){},60:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var c=n(1),i=n.n(c),s=n(29),a=n.n(s),r=(n(38),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,s=e.getLCP,a=e.getTTFB;n(t),c(t),i(t),s(t),a(t)}))}),l=n(2),o=n(32),u=n(17),d=n.n(u),h=n(30),j=n(9),b=n(10),p=n(14),f=n(12),O=n(11),m=(n(40),n(41),n(31)),v=n.n(m).a.create({baseURL:"http://127.0.0.1:8080"});v.interceptors.request.use((function(t){return t.headers["Content-Type"]="application/json; charset=utf-8",t}));var x=v,g={App:{get_list:function(){return x.get("/App")},delete:function(t){return x.delete("/App/"+t)},save:function(t,e){return x({url:"/App",data:{name:t,value:e},method:"POST"})},change:function(t,e,n){return x({url:"/App/".concat(t),method:"POST",data:{name:e,value:n}})}}},y=(n(60),n(0)),k=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(){return Object(j.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"add",value:function(){for(var t=this,e=document.getElementById("value"),n=document.getElementById("name").value,c=e.value,i=c.split(""),s=0,a=i.length;s<a;s++)if(i[s]<"0"||i[s]>"9")return alert("\u8f93\u5165\u7684\u4ef7\u503c\u683c\u5f0f\u9519\u8bef,\u8bf7\u91cd\u65b0\u8f93\u5165"),void(e.value="");c=parseInt(c),g.App.save(n,c).then((function(e){200===e.status&&(alert("\u6dfb\u52a0\u6210\u529f"),t.props.update(),t.props.change())}))}},{key:"render",value:function(){var t=this;return this.props.show?Object(y.jsxs)("div",{className:"add",children:[Object(y.jsxs)("div",{className:"val",children:[Object(y.jsx)("label",{htmlFor:"name",children:"\u540d\u79f0\uff1a"}),Object(y.jsx)("input",{id:"name",placeholder:"\u8bf7\u8f93\u5165\u8d22\u7269\u7684\u540d\u5b57"}),Object(y.jsx)("br",{}),Object(y.jsx)("label",{htmlFor:"value",children:"\u4ef7\u503c\uff1a"}),Object(y.jsx)("input",{id:"value",placeholder:"\u8bf7\u8f93\u5165\u8d22\u7269\u7684\u4ef7\u503c(\u6574\u6570)",type:"number"})]}),Object(y.jsxs)("div",{className:"btn",children:[Object(y.jsx)("button",{onClick:function(){t.add()},children:"\u786e\u8ba4\u6dfb\u52a0"}),"\xa0",Object(y.jsx)("button",{onClick:function(e){return t.props.change()},children:"\u53d6\u6d88\u6dfb\u52a0"})]})]}):null}}]),n}(c.Component),w=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={show:!1},t}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var t=document.getElementById("menu");document.oncontextmenu=function(e){var n=document.documentElement||document.body,c=n.scrollTop,i=n.scrollLeft,s=e.clientX,a=e.clientY;return t.style.left="".concat(i+s,"px"),t.style.top="".concat(c+a,"px"),t.style.display="block",!1},document.addEventListener("click",(function(){t.style.display="none"})),document.addEventListener("keydown",(function(e){t.style.display="none"}))}},{key:"render",value:function(){var t=this;return Object(y.jsxs)("div",{id:"box",children:[Object(y.jsx)("ul",{id:"menu",children:Object(y.jsx)("li",{className:"menuItem",onClick:function(){return t.setState({show:!0})},children:"\u6dfb\u52a0"})}),Object(y.jsx)(k,{show:this.state.show,change:function(e){t.setState({show:!1})},update:this.props.update})]})}}]),n}(c.Component),C=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={list:[],sum:0,cid:0,show:!1},t.get_list=function(){var e=Object(p.a)(t);g.App.get_list().then((function(t){var n=t.status,c=t.data;200===n&&e.setState({list:c},(function(){e.getSum()}))}),(function(t){alert("\u83b7\u53d6\u5217\u8868\u5931\u8d25")}))},t.listItem=function(){return t.state.list.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.id}),Object(y.jsx)("td",{children:e.name}),Object(y.jsx)("td",{children:e.value}),Object(y.jsxs)("td",{children:[Object(y.jsx)("button",{className:"action",onClick:function(){return t.delete(e.id)},children:"\u5220\u9664"}),Object(y.jsx)("button",{className:"action",onClick:function(){t.change(e.id)},children:"\u4fee\u6539"})]})]},e.name+e.id)}))},t}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.get_list()}},{key:"getSum",value:function(){var t=Object(h.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=0,this.state.list.forEach((function(t){t.isDelete||(e+=t.value)})),t.next=4,this.setState({sum:e});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"delete",value:function(t){var e=this;g.App.delete(t).then((function(t){200===t.status&&(alert("\u5220\u9664\u6210\u529f"),e.get_list())}),(function(t){console.log("\u5220\u9664\u5931\u8d25",t)}))}},{key:"change",value:function(t){this.setState({cid:t,show:!0})}},{key:"changeInfo",value:function(){for(var t=this,e=document.getElementById("newVal"),n=document.getElementById("newName").value,c=e.value,i=c.split(""),s=0,a=i.length;s<a;s++)if(i[s]<"0"||i[s]>"9")return alert("\u8f93\u5165\u7684\u4ef7\u503c\u683c\u5f0f\u9519\u8bef,\u8bf7\u91cd\u65b0\u8f93\u5165"),void(e.value="");c=parseInt(c),g.App.change(this.state.cid,n,c).then((function(e){200===e.status&&(alert("\u4fee\u6539\u6210\u529f"),t.setState({show:!1},(function(){return t.get_list()})))}))}},{key:"render",value:function(){var t=this;return Object(y.jsxs)("div",{className:"main",children:[Object(y.jsx)("h1",{children:"\u4e91\u9a6d\u8d22\u52a1\u6700\u5c0f\u7cfb\u7edf"}),Object(y.jsx)("hr",{}),this.state.show?Object(y.jsxs)("div",{className:"change",children:[Object(y.jsxs)("p",{children:["\u8981\u4fee\u6539\u7684\u8d22\u7269\u7684id=",this.state.cid]}),Object(y.jsx)("p",{children:"\u4e0d\u8f93\u5165\u5219\u4e0d\u4fee\u6539\u54e6\uff01\uff01\uff01"}),Object(y.jsxs)("div",{id:"input",children:[Object(y.jsx)("input",{id:"newName",placeholder:"\u8bf7\u8f93\u5165\u65b0\u7684\u540d\u5b57"}),"\xa0",Object(y.jsx)("input",{id:"newVal",placeholder:"\u8bf7\u8f93\u5165\u65b0\u7684\u8d22\u7269\u4ef7\u503c"})]}),Object(y.jsx)("br",{}),Object(y.jsxs)("div",{id:"btn",children:[Object(y.jsx)("button",{onClick:function(){t.changeInfo()},children:"\u786e\u8ba4\u4fee\u6539"})," \xa0 ",Object(y.jsx)("button",{onClick:function(){t.setState({show:!1})},children:"\u53d6\u6d88\u4fee\u6539"})]})]}):null,Object(y.jsxs)("table",{id:"table",border:"1",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"id"}),Object(y.jsx)("th",{children:"\u540d\u79f0"}),Object(y.jsx)("th",{children:"\u4ef7\u503c"}),Object(y.jsx)("th",{children:"\u64cd\u4f5c"})]})}),Object(y.jsx)("tbody",{children:this.listItem()}),Object(y.jsx)("tfoot",{children:Object(y.jsx)("tr",{children:Object(y.jsxs)("td",{colSpan:"4",children:["\u4ef7\u503c\u603b\u548c\uffe5",this.state.sum,"\u5143"]})})})]}),Object(y.jsx)(w,{update:function(){t.get_list()}})]})}}]),n}(c.Component);var I=function(){return Object(y.jsx)(o.a,{children:Object(y.jsxs)(l.d,{children:[Object(y.jsx)(l.b,{path:"/",exact:!0,component:C}),Object(y.jsx)(l.a,{to:"/"})]})})};a.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(I,{})}),document.getElementById("root")),r()}},[[67,1,2]]]);
//# sourceMappingURL=main.22f1f4e9.chunk.js.map